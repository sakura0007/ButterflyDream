{"version":3,"sources":["Scene_1S.js"],"names":["cc","Class","extends","Component","properties","onLoad","director","getPhysicsManager","enabled","debugDrawFlags","Map","find","loader","loadRes","Prefab","err","prefab","Win","instantiate","parent","Save_Win","start","getComponent","Player_Position","position","Save_Game","event","customEventData","re_start","update","dt","RigidBody","syncPosition"],"mappings":";;;;;;AAACA,GAAGC,KAAH,CAAS;AACNC,aAASF,GAAGG,SADN;;AAGNC,gBAAY,EAHN;;AAMNC,UANM,oBAMG;AACLL,WAAGM,QAAH,CAAYC,iBAAZ,GAAgCC,OAAhC,GAA0C,IAA1C;AACAR,WAAGM,QAAH,CAAYC,iBAAZ,GAAgCE,cAAhC,GAAiD,CAAjD;AACA;AACA;AACA;AACA;AACA;AACA,aAAKC,GAAL,GAAWV,GAAGW,IAAH,CAAQ,YAAR,CAAX;AACA;AACAX,WAAGY,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCb,GAAGc,MAAnC,EAA2C,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA,gBAAIC,MAAMjB,GAAGkB,WAAH,CAAeF,MAAf,CAAV;AACAC,gBAAIE,MAAJ,GAAanB,GAAGW,IAAH,CAAQ,QAAR,CAAb;AACH,SARD;AASAX,WAAGY,MAAH,CAAUC,OAAV,CAAkB,iBAAlB,EAAoCb,GAAGc,MAAvC,EAA+C,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAClE,gBAAII,WAAWpB,GAAGkB,WAAH,CAAeF,MAAf,CAAf;AACAI,qBAASD,MAAT,GAAkBnB,GAAGW,IAAH,CAAQ,QAAR,CAAlB;AACH,SAHD;AAIH,KA7BK;AA+BNU,SA/BM,mBA+BE;AACJ;AACA,YAAIrB,GAAGW,IAAH,CAAQ,UAAR,EAAoBW,YAApB,CAAiC,UAAjC,EAA6CC,eAAjD,EAAkE;AAC9D,iBAAKb,GAAL,CAASc,QAAT,GAAoBxB,GAAGW,IAAH,CAAQ,UAAR,EAAoBW,YAApB,CAAiC,UAAjC,EAA6CC,eAAjE;AACH;AACJ,KApCK;;AAqCN;AACAE,aAtCM,qBAsCIC,KAtCJ,EAsCWC,eAtCX,EAsC4B;AAC9B3B,WAAGW,IAAH,CAAQ,iBAAR,EAA2BW,YAA3B,CAAwC,UAAxC,EAAoDM,QAApD;AACH,KAxCK;AA0CNC,UA1CM,kBA0CCC,EA1CD,EA0CK;AACP9B,WAAGW,IAAH,CAAQ,sBAAR,EAAgCW,YAAhC,CAA6CtB,GAAG+B,SAAhD,EAA2DC,YAA3D,CAAwE,IAAxE;AACH;AA5CK,CAAT","file":"Scene_1S.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["﻿cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    },\r\n\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n        cc.director.getPhysicsManager().debugDrawFlags = 0;\r\n        //cc.director.getPhysicsManager().debugDrawFlags = cc.PhysicsManager.DrawBits.e_aabbBit |\r\n        //                                            cc.PhysicsManager.DrawBits.e_pairBit |\r\n        //                                            cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n        //                                            cc.PhysicsManager.DrawBits.e_jointBit |\r\n        //                                            cc.PhysicsManager.DrawBits.e_shapeBit;\r\n        this.Map = cc.find('Canvas/Map');\r\n        //加载预制\r\n        cc.loader.loadRes('Prefab/Win', cc.Prefab, function (err, prefab) {\r\n            //if (err) {\r\n            //    cc.error(err.message || err);\r\n            //    return;\r\n            //}\r\n            //cc.log('Result should be a prefab: ' + (prefab instanceof cc.Prefab));\r\n            let Win = cc.instantiate(prefab);\r\n            Win.parent = cc.find('Canvas');\r\n        });\r\n        cc.loader.loadRes('Prefab/Save_Win',cc.Prefab, function (err, prefab) {\r\n            let Save_Win = cc.instantiate(prefab);\r\n            Save_Win.parent = cc.find('Canvas');\r\n        });\r\n    },\r\n\r\n    start() {\r\n        //读取存档时的记录\r\n        if (cc.find('The_Data').getComponent('The_Data').Player_Position) {\r\n            this.Map.position = cc.find('The_Data').getComponent('The_Data').Player_Position;\r\n        };\r\n    },\r\n    //存档\r\n    Save_Game(event, customEventData) {\r\n        cc.find('Canvas/Save_Win').getComponent('Save_Win').re_start();\r\n    },\r\n\r\n    update(dt) {\r\n        cc.find('Canvas/Map/win_white').getComponent(cc.RigidBody).syncPosition(true);\r\n    },\r\n});\r\n"]}