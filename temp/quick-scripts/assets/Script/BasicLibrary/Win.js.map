{"version":3,"sources":["Win.js"],"names":["cc","Class","extends","Component","properties","onLoad","Win","node","Status_Win","getChildByName","Archive_Win","Set_Win","Win_S","Win_S_Arr","Win_Initial_Position","v2","view","getVisibleSize","width","height","setPosition","Win_B_Off","Win_S_Off","start","Status_Display_Content","Archive_Display_Content","New_news","find","getComponent","Tool_List","length","item_example","i","children","destroy","instantiate","parent","Label","string","opacity","New_Archive_news","Save_List","Math","ceil","Archive_Item","Archive_Name","Time","theY","floor","re_start","event","customEventData","Status_node","Archive_node","x","Choice_Tool_Item","target","Open_Win_S","Choice_Archive_Item","Choice_Set_Item","name","Value","Node","Close_Win","True_Win_S","TheNode_Parent","TheNode_In","TheNode_Arr","push","New_Position","y","actionBy","moveTo","runAction","that","scheduleOnce","log","JSON","parse","sys","localStorage","getItem","The_Value","Load_Save","director","loadScene","game","end","Cancel_Win_S","Delete_Save","Close_Win_S"],"mappings":";;;;;;AAAC;AACD;AACA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;AAMLC,UANK,oBAMI;AACL,aAAKC,GAAL,GAAW,KAAKC,IAAhB;AACA,aAAKC,UAAL,GAAkB,KAAKD,IAAL,CAAUE,cAAV,CAAyB,YAAzB,CAAlB;AACA,aAAKC,WAAL,GAAmB,KAAKH,IAAL,CAAUE,cAAV,CAAyB,aAAzB,CAAnB;AACA,aAAKE,OAAL,GAAe,KAAKJ,IAAL,CAAUE,cAAV,CAAyB,SAAzB,CAAf;AACA,aAAKG,KAAL,GAAa,KAAKL,IAAL,CAAUE,cAAV,CAAyB,OAAzB,CAAb;AACA,aAAKI,SAAL,GAAiB,EAAjB;AACA,aAAKC,oBAAL,GAA4Bd,GAAGe,EAAH,CAAMf,GAAGgB,IAAH,CAAQC,cAAR,GAAyBC,KAA/B,EAAsClB,GAAGgB,IAAH,CAAQC,cAAR,GAAyBE,MAA/D,CAA5B;AACA,aAAKZ,IAAL,CAAUa,WAAV,CAAsB,KAAKN,oBAA3B;AACA,aAAKF,KAAL,CAAWQ,WAAX,CAAuB,KAAKN,oBAA5B;AACA,aAAKO,SAAL,GAAiB,KAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACH,KAlBI;AAmBLC,SAnBK,mBAmBG;AACJ,aAAKC,sBAAL,GAA8B,KAAKhB,UAAL,CAAgBC,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,MAA5D,EAAoEA,cAApE,CAAmF,SAAnF,CAA9B;AACA,aAAKgB,uBAAL,GAA+B,KAAKf,WAAL,CAAiBD,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAA/B;AACA,YAAIiB,WAAW1B,GAAG2B,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,EAA6CC,SAA5D;AACA,aAAKrB,UAAL,CAAgBC,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,MAA5D,EAAoEA,cAApE,CAAmF,SAAnF,EAA8FU,MAA9F,GAAuGO,SAASI,MAAT,GAAkB,EAAlB,GAAuB,EAA9H;AACA,aAAKC,YAAL,GAAoB,KAAKP,sBAAL,CAA4Bf,cAA5B,CAA2C,cAA3C,CAApB;AACA,aAAK,IAAIuB,IAAI,CAAb,EAAgBA,IAAI,KAAKR,sBAAL,CAA4BS,QAA5B,CAAqCH,MAAzD,EAAiEE,GAAjE,EAAsE;AAClE,gBAAIA,IAAI,CAAR,EAAW;AACP,qBAAKR,sBAAL,CAA4BS,QAA5B,CAAqCD,CAArC,EAAwCE,OAAxC;AACH;AACJ;AACD,aAAK,IAAIF,KAAI,CAAb,EAAgBA,KAAIN,SAASI,MAA7B,EAAqCE,IAArC,EAA0C;AACtC,gBAAIzB,OAAOP,GAAGmC,WAAH,CAAe,KAAKJ,YAApB,CAAX;AACAxB,iBAAK6B,MAAL,GAAc,KAAK5B,UAAL,CAAgBC,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,MAA5D,EAAoEA,cAApE,CAAmF,SAAnF,CAAd;AACAF,iBAAKE,cAAL,CAAoB,aAApB,EAAmCmB,YAAnC,CAAgD5B,GAAGqC,KAAnD,EAA0DC,MAA1D,GAAmEZ,SAASM,EAAT,CAAnE;AACAzB,iBAAKgC,OAAL,GAAe,GAAf;AACAhC,iBAAKa,WAAL,CAAiB,CAAC,KAAlB,EAAyB,CAAC,KAAD,GAAU,CAACY,EAAD,GAAK,EAAxC;AACH;;AAED,YAAIQ,mBAAmBxC,GAAG2B,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,EAA6Ca,SAApE;AACA;AACA;AACA,aAAK/B,WAAL,CAAiBD,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,EAA+FU,MAA/F,GAAwGuB,KAAKC,IAAL,CAAUH,iBAAiBV,MAAjB,GAA0B,CAApC,IAAyC,GAAjJ;AACA,aAAKc,YAAL,GAAoB,KAAKnB,uBAAL,CAA6BhB,cAA7B,CAA4C,cAA5C,CAApB;AACA,aAAK,IAAIuB,MAAI,CAAb,EAAgBA,MAAI,KAAKP,uBAAL,CAA6BQ,QAA7B,CAAsCH,MAA1D,EAAkEE,KAAlE,EAAuE;AACnE,gBAAIA,MAAI,CAAR,EAAW;AACP,qBAAKP,uBAAL,CAA6BQ,QAA7B,CAAsCD,GAAtC,EAAyCE,OAAzC;AACH;AACJ;AACD,aAAK,IAAIF,MAAI,CAAb,EAAgBA,MAAIQ,iBAAiBV,MAArC,EAA6CE,KAA7C,EAAkD;AAC9C,gBAAIzB,QAAOP,GAAGmC,WAAH,CAAe,KAAKS,YAApB,CAAX;AACArC,kBAAK6B,MAAL,GAAc,KAAK1B,WAAL,CAAiBD,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAAd;AACA;AACA,gBAAIoC,eAAeL,iBAAiBR,GAAjB,EAAoBc,IAAvC;AACAvC,kBAAKE,cAAL,CAAoB,QAApB,EAA8BmB,YAA9B,CAA2C5B,GAAGqC,KAA9C,EAAqDC,MAArD,GAA8DO,YAA9D;AACAtC,kBAAKgC,OAAL,GAAe,GAAf;AACA,gBAAIP,MAAI,CAAJ,IAAS,CAAb,EAAgB;AACZ,oBAAIe,OAAOL,KAAKM,KAAL,CAAWhB,MAAI,CAAf,CAAX;AACAzB,sBAAKa,WAAL,CAAiB,CAAC,GAAlB,EAAuB,CAAC,EAAD,GAAO,CAAC2B,IAAD,GAAQ,GAAtC;AACH,aAHD,MAGO;AACH,oBAAIA,QAAOL,KAAKM,KAAL,CAAW,CAAChB,MAAI,CAAL,IAAU,CAArB,CAAX;AACAzB,sBAAKa,WAAL,CAAiB,GAAjB,EAAsB,CAAC,EAAD,GAAO,CAAC2B,KAAD,GAAQ,GAArC;AACH;AACJ;AACJ,KA/DI;AAgELE,YAhEK,oBAgEIC,KAhEJ,EAgEWC,eAhEX,EAgE4B;AAC7B;AACA,aAAK5B,KAAL;AACA,YAAI6B,cAAc,KAAK5C,UAAL,CAAgBC,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,MAA5D,EAAoEA,cAApE,CAAmF,SAAnF,CAAlB;AACA,aAAK,IAAIuB,IAAI,CAAb,EAAgBA,IAAIoB,YAAYnB,QAAZ,CAAqBH,MAAzC,EAAiDE,GAAjD,EAAsD;AAClDoB,wBAAYnB,QAAZ,CAAqBD,CAArB,EAAwBvB,cAAxB,CAAuC,SAAvC,EAAkD8B,OAAlD,GAA4D,CAA5D;AACH;AACD,YAAIc,eAAe,KAAK3C,WAAL,CAAiBD,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAAnB;AACA,aAAK,IAAIuB,MAAI,CAAb,EAAgBA,MAAIqB,aAAapB,QAAb,CAAsBH,MAA1C,EAAkDE,KAAlD,EAAuD;AACnDqB,yBAAapB,QAAb,CAAsBD,GAAtB,EAAyBvB,cAAzB,CAAwC,eAAxC,EAAyD8B,OAAzD,GAAmE,GAAnE;AACH;AACD,YAAI,KAAKjC,GAAL,CAASgD,CAAT,IAAc,CAAlB,EAAqB;AACjB,gBAAI,CAAC,KAAKjC,SAAV,EAAqB;AACjB,oBAAI8B,mBAAmB,YAAvB,EAAqC;AACjC,yBAAK3C,UAAL,CAAgBY,WAAhB,CAA4BpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAA5B;AACA,yBAAKL,WAAL,CAAiBU,WAAjB,CAA6B,KAAKN,oBAAlC;AACA,yBAAKH,OAAL,CAAaS,WAAb,CAAyB,KAAKN,oBAA9B;AACH;AACD,oBAAIqC,mBAAmB,aAAvB,EAAsC;AAClC,yBAAK3C,UAAL,CAAgBY,WAAhB,CAA4B,KAAKN,oBAAjC;AACA,yBAAKJ,WAAL,CAAiBU,WAAjB,CAA6BpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAA7B;AACA,yBAAKJ,OAAL,CAAaS,WAAb,CAAyB,KAAKN,oBAA9B;AACH;AACD,oBAAIqC,mBAAmB,SAAvB,EAAkC;AAC9B,yBAAK3C,UAAL,CAAgBY,WAAhB,CAA4B,KAAKN,oBAAjC;AACA,yBAAKJ,WAAL,CAAiBU,WAAjB,CAA6B,KAAKN,oBAAlC;AACA,yBAAKH,OAAL,CAAaS,WAAb,CAAyBpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAAzB;AACH;AACD,qBAAKR,IAAL,CAAUa,WAAV,CAAsBpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAAtB;AACH;AACJ,SAnBD,MAmBO;AACH,gBAAIoC,mBAAmB,YAAvB,EAAqC;AACjC,qBAAK3C,UAAL,CAAgBY,WAAhB,CAA4BpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAA5B;AACA,qBAAKL,WAAL,CAAiBU,WAAjB,CAA6B,KAAKN,oBAAlC;AACA,qBAAKH,OAAL,CAAaS,WAAb,CAAyB,KAAKN,oBAA9B;AACH;AACD,gBAAIqC,mBAAmB,aAAvB,EAAsC;AAClC,qBAAK3C,UAAL,CAAgBY,WAAhB,CAA4B,KAAKN,oBAAjC;AACA,qBAAKJ,WAAL,CAAiBU,WAAjB,CAA6BpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAA7B;AACA,qBAAKJ,OAAL,CAAaS,WAAb,CAAyB,KAAKN,oBAA9B;AACH;AACD,gBAAIqC,mBAAmB,SAAvB,EAAkC;AAC9B,qBAAK3C,UAAL,CAAgBY,WAAhB,CAA4B,KAAKN,oBAAjC;AACA,qBAAKJ,WAAL,CAAiBU,WAAjB,CAA6B,KAAKN,oBAAlC;AACA,qBAAKH,OAAL,CAAaS,WAAb,CAAyBpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAAzB;AACH;AACD,iBAAKR,IAAL,CAAUa,WAAV,CAAsBpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAAtB;AACH;AACJ,KAhHI;AAiHLwC,oBAjHK,4BAiHYL,KAjHZ,EAiHmBC,eAjHnB,EAiHoC;AACrC,YAAI5C,OAAO2C,MAAMM,MAAjB;AACA;AACA,YAAI,CAAC,KAAKnC,SAAV,EAAqB;AACjB,iBAAK,IAAIW,IAAI,CAAb,EAAgBA,IAAIzB,KAAK6B,MAAL,CAAYH,QAAZ,CAAqBH,MAAzC,EAAiDE,GAAjD,EAAsD;AAClDzB,qBAAK6B,MAAL,CAAYH,QAAZ,CAAqBD,CAArB,EAAwBvB,cAAxB,CAAuC,SAAvC,EAAkD8B,OAAlD,GAA4D,CAA5D;AACH;AACDhC,iBAAKE,cAAL,CAAoB,SAApB,EAA+B8B,OAA/B,GAAyC,EAAzC;AACA,iBAAKkB,UAAL,CAAgBlD,KAAKE,cAAL,CAAoB,aAApB,EAAmCmB,YAAnC,CAAgD5B,GAAGqC,KAAnD,EAA0DC,MAA1E,EAAiF/B,IAAjF;AACH;AACJ,KA3HI;AA4HLmD,uBA5HK,+BA4HeR,KA5Hf,EA4HsBC,eA5HtB,EA4HuC;AACxC,YAAI5C,OAAO2C,MAAMM,MAAjB;AACA,YAAI,CAAC,KAAKnC,SAAV,EAAqB;AACjB,iBAAK,IAAIW,IAAI,CAAb,EAAgBA,IAAIzB,KAAK6B,MAAL,CAAYH,QAAZ,CAAqBH,MAAzC,EAAiDE,GAAjD,EAAsD;AAClDzB,qBAAK6B,MAAL,CAAYH,QAAZ,CAAqBD,CAArB,EAAwBvB,cAAxB,CAAuC,eAAvC,EAAwD8B,OAAxD,GAAkE,GAAlE;AACH;AACDhC,iBAAKE,cAAL,CAAoB,eAApB,EAAqC8B,OAArC,GAA+C,GAA/C;AACA,iBAAKkB,UAAL,CAAgBlD,KAAKE,cAAL,CAAoB,QAApB,EAA8BmB,YAA9B,CAA2C5B,GAAGqC,KAA9C,EAAqDC,MAArE,EAA6E/B,IAA7E;AACH;AACJ,KArII;AAsILoD,mBAtIK,2BAsIWT,KAtIX,EAsIkBC,eAtIlB,EAsImC;AACpC,YAAI5C,OAAO2C,MAAMM,MAAjB;AACA;AACA,aAAKC,UAAL,CAAgBlD,KAAKqD,IAArB,EAA2BrD,IAA3B;AACH,KA1II;AA2ILkD,cA3IK,sBA2IMI,KA3IN,EA2IYC,IA3IZ,EA2IkB;AACnB,aAAKzC,SAAL,GAAiB,IAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA,aAAKT,SAAL,GAAiB,CAACgD,KAAD,EAAQC,IAAR,CAAjB;AACA,YAAI,KAAKjD,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,cAA9B,EAA8C;AAC1C,iBAAKhD,KAAL,CAAWH,cAAX,CAA0B,WAA1B,EAAuCmB,YAAvC,CAAoD5B,GAAGqC,KAAvD,EAA8DC,MAA9D,GAAuE,MAAvE;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,MAA1B,EAAkCA,cAAlC,CAAiD,YAAjD,EAA+DA,cAA/D,CAA8E,OAA9E,EAAuFmB,YAAvF,CAAoG5B,GAAGqC,KAAvG,EAA8GC,MAA9G,GAAuH,MAAvH;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,OAA1B,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEA,cAAhE,CAA+E,OAA/E,EAAwFmB,YAAxF,CAAqG5B,GAAGqC,KAAxG,EAA+GC,MAA/G,GAAwH,MAAxH;AACH;AACD,YAAI,KAAKzB,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,cAA9B,EAA8C;AAC1C,iBAAKhD,KAAL,CAAWH,cAAX,CAA0B,WAA1B,EAAuCmB,YAAvC,CAAoD5B,GAAGqC,KAAvD,EAA8DC,MAA9D,GAAuE,aAAa,GAAb,GAAmBuB,KAAnB,GAA2B,GAAlG;AACA,iBAAKjD,KAAL,CAAWH,cAAX,CAA0B,MAA1B,EAAkCA,cAAlC,CAAiD,YAAjD,EAA+DA,cAA/D,CAA8E,OAA9E,EAAuFmB,YAAvF,CAAoG5B,GAAGqC,KAAvG,EAA8GC,MAA9G,GAAuH,IAAvH;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,OAA1B,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEA,cAAhE,CAA+E,OAA/E,EAAwFmB,YAAxF,CAAqG5B,GAAGqC,KAAxG,EAA+GC,MAA/G,GAAwH,IAAxH;AACH;AACD,YAAI,KAAKzB,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,WAA9B,EAA2C;AACvC,iBAAKhD,KAAL,CAAWH,cAAX,CAA0B,WAA1B,EAAuCmB,YAAvC,CAAoD5B,GAAGqC,KAAvD,EAA8DC,MAA9D,GAAuE,QAAvE;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,MAA1B,EAAkCA,cAAlC,CAAiD,YAAjD,EAA+DA,cAA/D,CAA8E,OAA9E,EAAuFmB,YAAvF,CAAoG5B,GAAGqC,KAAvG,EAA8GC,MAA9G,GAAuH,IAAvH;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,OAA1B,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEA,cAAhE,CAA+E,OAA/E,EAAwFmB,YAAxF,CAAqG5B,GAAGqC,KAAxG,EAA+GC,MAA/G,GAAwH,IAAxH;AACH;AACD,YAAI,KAAKzB,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,UAA9B,EAA0C;AACtC,iBAAKhD,KAAL,CAAWH,cAAX,CAA0B,WAA1B,EAAuCmB,YAAvC,CAAoD5B,GAAGqC,KAAvD,EAA8DC,MAA9D,GAAuE,MAAvE;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,MAA1B,EAAkCA,cAAlC,CAAiD,YAAjD,EAA+DA,cAA/D,CAA8E,OAA9E,EAAuFmB,YAAvF,CAAoG5B,GAAGqC,KAAvG,EAA8GC,MAA9G,GAAuH,IAAvH;AACA,iBAAK1B,KAAL,CAAWH,cAAX,CAA0B,OAA1B,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEA,cAAhE,CAA+E,OAA/E,EAAwFmB,YAAxF,CAAqG5B,GAAGqC,KAAxG,EAA+GC,MAA/G,GAAwH,IAAxH;AACH;AACD,aAAK1B,KAAL,CAAWQ,WAAX,CAAuBpB,GAAGe,EAAH,CAAM,CAAN,EAAS,CAAT,CAAvB;AACH,KApKI;AAqKLgD,aArKK,uBAqKO;AACR,YAAI,CAAC,KAAK1C,SAAV,EAAqB;AACjB,iBAAKA,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKhB,GAAL,CAASc,WAAT,CAAqB,KAAKN,oBAA1B;AACH;AACJ,KA3KI;AA4KLkD,cA5KK,wBA4KQ;AACT,aAAK3C,SAAL,GAAiB,KAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA;AACA;AACA,aAAKV,KAAL,CAAWQ,WAAX,CAAuB,KAAKN,oBAA5B;AACA,YAAI,KAAKD,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,cAA9B,EAA8C;AAC1C,gBAAIK,iBAAiB,KAAKpD,SAAL,CAAe,CAAf,EAAkBuB,MAAvC;AACA,gBAAI8B,aAAa,KAAjB;AACA,gBAAIC,cAAc,EAAlB;AACA,iBAAK,IAAInC,IAAI,CAAb,EAAgBA,IAAIiC,eAAehC,QAAf,CAAwBH,MAA5C,EAAoDE,GAApD,EAAyD;AACrD,oBAAIkC,UAAJ,EAAgB;AACZC,gCAAYC,IAAZ,CAAiBH,eAAehC,QAAf,CAAwBD,CAAxB,CAAjB;AACH;AACD,oBAAIiC,eAAehC,QAAf,CAAwBD,CAAxB,EAA2BvB,cAA3B,CAA0C,SAA1C,EAAqD8B,OAArD,GAA+D,CAAnE,EAAsE;AAClE2B,iCAAa,IAAb;AACH;AACJ;AACD,iBAAKrD,SAAL,CAAe,CAAf,EAAkBqB,OAAlB;AACA,iBAAK,IAAIF,MAAI,CAAb,EAAgBA,MAAImC,YAAYrC,MAAhC,EAAwCE,KAAxC,EAA6C;AACzC,oBAAIqC,eAAerE,GAAGe,EAAH,CAAMoD,YAAYnC,GAAZ,EAAesB,CAArB,EAAwBa,YAAYnC,GAAZ,EAAesC,CAAf,GAAiB,EAAzC,CAAnB;AACA,oBAAIC,WAAWvE,GAAGwE,MAAH,CAAU,GAAV,EAAeH,YAAf,CAAf;AACAF,4BAAYnC,GAAZ,EAAeyC,SAAf,CAAyBF,QAAzB;AACH;AACD,gBAAIG,OAAO,IAAX;AACAA,iBAAKC,YAAL,CAAkB,YAAY;AAC1BV,+BAAe9C,MAAf,GAAwB,CAAC8C,eAAehC,QAAf,CAAwBH,MAAxB,GAAiC,CAAlC,IAAuC,EAAvC,GAA4C,EAApE;AACA;AACH,aAHD,EAGG,GAHH;AAIH;AACD,YAAI,KAAKjB,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,cAA9B,EAA8C;AAC1C5D,eAAG4E,GAAH,CAAO,WAAW,KAAK/D,SAAL,CAAe,CAAf,CAAX,GAA+B,OAA/B,GAAyC,KAAKA,SAAL,CAAe,CAAf,CAAhD;AACA,gBAAI4B,YAAYoC,KAAKC,KAAL,CAAW9E,GAAG+E,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAX,CAAhB;AACA,gBAAIC,YAAY,CAAhB;AACA,iBAAK,IAAIlD,MAAI,CAAb,EAAgBA,MAAIS,UAAUX,MAA9B,EAAsCE,KAAtC,EAA2C;AACvC,oBAAIS,UAAUT,GAAV,EAAac,IAAb,IAAqB,KAAKjC,SAAL,CAAe,CAAf,CAAzB,EAA4C;AACxCqE,gCAAYlD,GAAZ;AACH;AACJ;AACD,iBAAK2C,YAAL,CAAkB,YAAY;AAC1B3E,mBAAG2B,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,EAA6CuD,SAA7C,CAAuDD,SAAvD;AACH,aAFD,EAEG,GAFH;AAGH;AACD,YAAI,KAAKrE,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,WAA9B,EAA2C;AACvC5D,eAAG4E,GAAH,CAAO,WAAW,KAAK/D,SAAL,CAAe,CAAf,CAAX,GAA+B,OAA/B,GAAyC,KAAKA,SAAL,CAAe,CAAf,CAAhD;AACA,iBAAK8D,YAAL,CAAkB,YAAY;AAC1B3E,mBAAGoF,QAAH,CAAYC,SAAZ,CAAsB,cAAtB;AACH,aAFD,EAEG,GAFH;AAGH;AACD,YAAI,KAAKxE,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,UAA9B,EAA0C;AACtC5D,eAAG4E,GAAH,CAAO,WAAW,KAAK/D,SAAL,CAAe,CAAf,CAAX,GAA+B,OAA/B,GAAyC,KAAKA,SAAL,CAAe,CAAf,CAAhD;AACA,iBAAK8D,YAAL,CAAkB,YAAY;AAC1B3E,mBAAGsF,IAAH,CAAQC,GAAR;AACH,aAFD,EAEG,GAFH;AAGH;AACJ,KAnOI;AAoOLC,gBApOK,0BAoOU;AACX,aAAKnE,SAAL,GAAiB,KAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA,aAAKV,KAAL,CAAWQ,WAAX,CAAuB,KAAKN,oBAA5B;AACA,YAAI,KAAKD,SAAL,CAAe,CAAf,EAAkB+C,IAAlB,IAA0B,cAA9B,EAA8C;AAC1C,gBAAInB,YAAYoC,KAAKC,KAAL,CAAW9E,GAAG+E,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAX,CAAhB;AACA,gBAAIC,YAAY,CAAhB;AACA,iBAAK,IAAIlD,IAAI,CAAb,EAAgBA,IAAIS,UAAUX,MAA9B,EAAsCE,GAAtC,EAA2C;AACvC,oBAAIS,UAAUT,CAAV,EAAac,IAAb,IAAqB,KAAKjC,SAAL,CAAe,CAAf,CAAzB,EAA4C;AACxCqE,gCAAYlD,CAAZ;AACH;AACJ;AACDhC,eAAG2B,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,EAA6C6D,WAA7C,CAAyDP,SAAzD;AACA,iBAAKjC,QAAL,CAAc,IAAd,EAAmB,aAAnB;AACH;AACJ,KAnPI;AAoPLyC,eApPK,yBAoPS;AACV,aAAKrE,SAAL,GAAiB,KAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA,aAAKV,KAAL,CAAWQ,WAAX,CAAuB,KAAKN,oBAA5B;AACH;AAxPI;;AA0PL;AA1PJ","file":"Win.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\BasicLibrary","sourcesContent":["﻿//API   \r\n//打开button组件参数 re_start(Status_Win||Archive_Win||Set_Win)\r\n//前置常驻节点  cc.find('The_Data').getComponent('The_Data')\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n    onLoad() {\r\n        this.Win = this.node;\r\n        this.Status_Win = this.node.getChildByName('Status_Win');\r\n        this.Archive_Win = this.node.getChildByName('Archive_Win');\r\n        this.Set_Win = this.node.getChildByName('Set_Win');\r\n        this.Win_S = this.node.getChildByName('Win_S');\r\n        this.Win_S_Arr = [];\r\n        this.Win_Initial_Position = cc.v2(cc.view.getVisibleSize().width, cc.view.getVisibleSize().height);\r\n        this.node.setPosition(this.Win_Initial_Position);\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n    },\r\n    start() {\r\n        this.Status_Display_Content = this.Status_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n        this.Archive_Display_Content = this.Archive_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n        let New_news = cc.find('The_Data').getComponent('The_Data').Tool_List;\r\n        this.Status_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content').height = New_news.length * 40 + 20;\r\n        this.item_example = this.Status_Display_Content.getChildByName('item_example');\r\n        for (let i = 0; i < this.Status_Display_Content.children.length; i++) {\r\n            if (i > 0) {\r\n                this.Status_Display_Content.children[i].destroy();\r\n            }\r\n        };\r\n        for (let i = 0; i < New_news.length; i++) {\r\n            let node = cc.instantiate(this.item_example);\r\n            node.parent = this.Status_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n            node.getChildByName('item_string').getComponent(cc.Label).string = New_news[i];\r\n            node.opacity = 255;\r\n            node.setPosition(-102.2, -10.15 + (-i * 40));\r\n        };\r\n\r\n        let New_Archive_news = cc.find('The_Data').getComponent('The_Data').Save_List;\r\n        //let New_Archive_news = [];s\r\n        //New_Archive_news.push('存档1', '存档2', '存档3', '存档4', '存档5', '存档6', '存档7', '存档8', '存档9');\r\n        this.Archive_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content').height = Math.ceil(New_Archive_news.length / 2) * 100;\r\n        this.Archive_Item = this.Archive_Display_Content.getChildByName('Archive_Item');\r\n        for (let i = 0; i < this.Archive_Display_Content.children.length; i++) {\r\n            if (i > 0) {\r\n                this.Archive_Display_Content.children[i].destroy();\r\n            }\r\n        };\r\n        for (let i = 0; i < New_Archive_news.length; i++) {\r\n            let node = cc.instantiate(this.Archive_Item);\r\n            node.parent = this.Archive_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n            //let Archive_Name = New_Archive_news[i];\r\n            let Archive_Name = New_Archive_news[i].Time;\r\n            node.getChildByName('String').getComponent(cc.Label).string = Archive_Name;\r\n            node.opacity = 255;\r\n            if (i % 2 == 0) {\r\n                let theY = Math.floor(i / 2);\r\n                node.setPosition(-110, -40 + (-theY * 100));\r\n            } else {\r\n                let theY = Math.floor((i - 1) / 2);\r\n                node.setPosition(110, -40 + (-theY * 100));\r\n            }\r\n        };\r\n    },\r\n    re_start(event, customEventData) {\r\n        //新读取\r\n        this.start();\r\n        var Status_node = this.Status_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n        for (let i = 0; i < Status_node.children.length; i++) {\r\n            Status_node.children[i].getChildByName('item_bg').opacity = 0;\r\n        };\r\n        var Archive_node = this.Archive_Win.getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n        for (let i = 0; i < Archive_node.children.length; i++) {\r\n            Archive_node.children[i].getChildByName('Archive_Frame').opacity = 150;\r\n        };\r\n        if (this.Win.x == 0) {\r\n            if (!this.Win_B_Off) {\r\n                if (customEventData == 'Status_Win') {\r\n                    this.Status_Win.setPosition(cc.v2(0, 0));\r\n                    this.Archive_Win.setPosition(this.Win_Initial_Position);\r\n                    this.Set_Win.setPosition(this.Win_Initial_Position);\r\n                }\r\n                if (customEventData == 'Archive_Win') {\r\n                    this.Status_Win.setPosition(this.Win_Initial_Position);\r\n                    this.Archive_Win.setPosition(cc.v2(0, 0));\r\n                    this.Set_Win.setPosition(this.Win_Initial_Position);\r\n                }\r\n                if (customEventData == 'Set_Win') {\r\n                    this.Status_Win.setPosition(this.Win_Initial_Position);\r\n                    this.Archive_Win.setPosition(this.Win_Initial_Position);\r\n                    this.Set_Win.setPosition(cc.v2(0, 0));\r\n                };\r\n                this.node.setPosition(cc.v2(0, 0));\r\n            }\r\n        } else {\r\n            if (customEventData == 'Status_Win') {\r\n                this.Status_Win.setPosition(cc.v2(0, 0));\r\n                this.Archive_Win.setPosition(this.Win_Initial_Position);\r\n                this.Set_Win.setPosition(this.Win_Initial_Position);\r\n            }\r\n            if (customEventData == 'Archive_Win') {\r\n                this.Status_Win.setPosition(this.Win_Initial_Position);\r\n                this.Archive_Win.setPosition(cc.v2(0, 0));\r\n                this.Set_Win.setPosition(this.Win_Initial_Position);\r\n            }\r\n            if (customEventData == 'Set_Win') {\r\n                this.Status_Win.setPosition(this.Win_Initial_Position);\r\n                this.Archive_Win.setPosition(this.Win_Initial_Position);\r\n                this.Set_Win.setPosition(cc.v2(0, 0));\r\n            };\r\n            this.node.setPosition(cc.v2(0, 0));\r\n        }\r\n    },\r\n    Choice_Tool_Item(event, customEventData) {\r\n        var node = event.target;\r\n        //var button = node.getComponent(cc.Button);\r\n        if (!this.Win_B_Off) {\r\n            for (let i = 0; i < node.parent.children.length; i++) {\r\n                node.parent.children[i].getChildByName('item_bg').opacity = 0;\r\n            };\r\n            node.getChildByName('item_bg').opacity = 30;\r\n            this.Open_Win_S(node.getChildByName('item_string').getComponent(cc.Label).string,node);\r\n        }\r\n    },\r\n    Choice_Archive_Item(event, customEventData) {\r\n        var node = event.target;\r\n        if (!this.Win_B_Off) {\r\n            for (let i = 0; i < node.parent.children.length; i++) {\r\n                node.parent.children[i].getChildByName('Archive_Frame').opacity = 150;\r\n            };\r\n            node.getChildByName('Archive_Frame').opacity = 255;\r\n            this.Open_Win_S(node.getChildByName('String').getComponent(cc.Label).string, node);\r\n        }\r\n    },\r\n    Choice_Set_Item(event, customEventData) {\r\n        var node = event.target;\r\n        //Back_Home  Off_Game\r\n        this.Open_Win_S(node.name, node);\r\n    },\r\n    Open_Win_S(Value,Node) {\r\n        this.Win_B_Off = true;\r\n        this.Win_S_Off = false;\r\n        this.Win_S_Arr = [Value, Node];\r\n        if (this.Win_S_Arr[1].name == 'Archive_Item') {\r\n            this.Win_S.getChildByName('Tips_News').getComponent(cc.Label).string = '存档使用';\r\n            this.Win_S.getChildByName('True').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '加载存档';\r\n            this.Win_S.getChildByName('False').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '删除存档';\r\n        }\r\n        if (this.Win_S_Arr[1].name == 'item_example') {\r\n            this.Win_S.getChildByName('Tips_News').getComponent(cc.Label).string = '确认使用\\r\\n' + '<' + Value + '>';\r\n            this.Win_S.getChildByName('True').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '确认';\r\n            this.Win_S.getChildByName('False').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '取消';\r\n        }\r\n        if (this.Win_S_Arr[1].name == 'Back_Home') {\r\n            this.Win_S.getChildByName('Tips_News').getComponent(cc.Label).string = '返回游戏菜单';\r\n            this.Win_S.getChildByName('True').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '确认';\r\n            this.Win_S.getChildByName('False').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '取消';\r\n        }\r\n        if (this.Win_S_Arr[1].name == 'Off_Game') {\r\n            this.Win_S.getChildByName('Tips_News').getComponent(cc.Label).string = '结束游戏';\r\n            this.Win_S.getChildByName('True').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '确认';\r\n            this.Win_S.getChildByName('False').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '取消';\r\n        };\r\n        this.Win_S.setPosition(cc.v2(0, 0));\r\n    },\r\n    Close_Win() {\r\n        if (!this.Win_B_Off) {\r\n            this.Win_B_Off = false;\r\n            this.Win_S_Off = false;\r\n            this.Win.setPosition(this.Win_Initial_Position);\r\n        }\r\n    },\r\n    True_Win_S() {\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        //音效\r\n        //cc.find('Canvas/BGM/click3bgm').getComponent(cc.AudioSource).play();\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n        if (this.Win_S_Arr[1].name == 'item_example') {\r\n            let TheNode_Parent = this.Win_S_Arr[1].parent;\r\n            let TheNode_In = false;\r\n            let TheNode_Arr = [];\r\n            for (let i = 0; i < TheNode_Parent.children.length; i++) {\r\n                if (TheNode_In) {\r\n                    TheNode_Arr.push(TheNode_Parent.children[i]);\r\n                };\r\n                if (TheNode_Parent.children[i].getChildByName('item_bg').opacity > 0) {\r\n                    TheNode_In = true;\r\n                };\r\n            };\r\n            this.Win_S_Arr[1].destroy();\r\n            for (let i = 0; i < TheNode_Arr.length; i++) {\r\n                let New_Position = cc.v2(TheNode_Arr[i].x, TheNode_Arr[i].y+40);\r\n                let actionBy = cc.moveTo(0.5, New_Position);\r\n                TheNode_Arr[i].runAction(actionBy);\r\n            };\r\n            let that = this;\r\n            that.scheduleOnce(function () {\r\n                TheNode_Parent.height = (TheNode_Parent.children.length - 1) * 40 + 20;\r\n                //cc.log('children:' + TheNode_Parent.children.length);\r\n            }, 0.1);\r\n        };\r\n        if (this.Win_S_Arr[1].name == 'Archive_Item') {\r\n            cc.log('Value:' + this.Win_S_Arr[0] + 'Node:' + this.Win_S_Arr[1]);\r\n            let Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n            let The_Value = 0;\r\n            for (let i = 0; i < Save_List.length; i++) {\r\n                if (Save_List[i].Time == this.Win_S_Arr[0]) {\r\n                    The_Value = i;\r\n                }\r\n            };\r\n            this.scheduleOnce(function () {\r\n                cc.find('The_Data').getComponent('The_Data').Load_Save(The_Value);\r\n            }, 0.5);\r\n        };\r\n        if (this.Win_S_Arr[1].name == 'Back_Home') {\r\n            cc.log('Value:' + this.Win_S_Arr[0] + 'Node:' + this.Win_S_Arr[1]);\r\n            this.scheduleOnce(function () {\r\n                cc.director.loadScene(\"Scene/Star_1\");\r\n            }, 0.5);\r\n        };\r\n        if (this.Win_S_Arr[1].name == 'Off_Game') {\r\n            cc.log('Value:' + this.Win_S_Arr[0] + 'Node:' + this.Win_S_Arr[1]);\r\n            this.scheduleOnce(function () {\r\n                cc.game.end();\r\n            }, 0.5);\r\n        };\r\n    },\r\n    Cancel_Win_S() {\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n        if (this.Win_S_Arr[1].name == 'Archive_Item') {\r\n            let Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n            let The_Value = 0;\r\n            for (let i = 0; i < Save_List.length; i++) {\r\n                if (Save_List[i].Time == this.Win_S_Arr[0]) {\r\n                    The_Value = i;\r\n                }\r\n            };\r\n            cc.find('The_Data').getComponent('The_Data').Delete_Save(The_Value);\r\n            this.re_start(null,'Archive_Win');\r\n        }\r\n    },\r\n    Close_Win_S() {\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}