{"version":3,"sources":["Star_1S.js"],"names":["cc","Class","extends","Component","properties","onLoad","find","getComponent","Win","node","getChildByName","Win_S","Win_Initial_Position","v2","view","getVisibleSize","width","height","setPosition","Win_B_Off","Win_S_Off","Win_S_Arr","start","scheduleOnce","tryone","NewGame","JSON","parse","sys","localStorage","getItem","Save_List","userData","name","Tool","Archive","Time","The_Scene","The_Position","Map_Key","setItem","stringify","director","loadScene","ContinueTheGame","Load_Save","length","ReadArchive","New_Archive_news","Math","ceil","Archive_Item","i","children","destroy","instantiate","parent","Archive_Name","Label","string","opacity","theY","floor","Close_Win","Open_Win_S","event","customEventData","target","True_Win_S","The_Value","Cancel_Win_S","Delete_Save","Close_Win_S","ExitGame","clear"],"mappings":"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","file":"Star_1S.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["﻿cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    onLoad() {\r\n        cc.find('The_Data').getComponent('The_Data').onLoad;\r\n        this.Win = this.node.getChildByName('Win');\r\n        this.Win_S = this.Win.getChildByName('Win_S');\r\n        this.Win_Initial_Position = cc.v2(cc.view.getVisibleSize().width, cc.view.getVisibleSize().height);\r\n        this.Win.setPosition(this.Win_Initial_Position);\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        this.Win_S_Arr = [];\r\n    },\r\n\r\n    start () {\r\n        //cc.director.preloadScene(\"Scene/1-0\");\r\n        this.scheduleOnce(function () {\r\n            this.tryone = true;\r\n            //cc.find('Canvas/BGM/click3bgm').getComponent(cc.AudioSource).volume = 1;\r\n        }, 0.1);\r\n\r\n    },\r\n\r\n    NewGame(){\r\n        if (this.tryone) {\r\n            this.tryone = false;\r\n            //音效\r\n            //cc.find('Canvas/BGM/click3bgm').getComponent(cc.AudioSource).play();\r\n            if (JSON.parse(cc.sys.localStorage.getItem('Save_List'))) {\r\n                let Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n                let userData = {\r\n                    name: null,\r\n                    Tool: [],\r\n                    Archive: [],\r\n                    Time: '',\r\n                    The_Scene: 'Scene_1',\r\n                    The_Position: cc.v2(0, 0),\r\n                    Map_Key: []\r\n                };\r\n                //Save_List.push(userData);\r\n                cc.find('The_Data').getComponent('The_Data').Save_List = Save_List;\r\n                cc.find('The_Data').getComponent('The_Data').userData = userData;\r\n                cc.sys.localStorage.setItem('Save_List', JSON.stringify(Save_List));\r\n            } else {\r\n                let Save_List = [];\r\n                let userData = {\r\n                    name: null,\r\n                    Tool: [],\r\n                    Archive: [],\r\n                    Time: '',\r\n                    The_Scene: 'Scene_1',\r\n                    The_Position: cc.v2(0, 0),\r\n                    Map_Key: []\r\n                };\r\n                //Save_List.push(userData);\r\n                cc.find('The_Data').getComponent('The_Data').Save_List = Save_List;\r\n                cc.find('The_Data').getComponent('The_Data').userData = userData;\r\n                cc.sys.localStorage.setItem('Save_List', JSON.stringify(Save_List));\r\n            };\r\n            this.scheduleOnce(function () {\r\n                cc.director.loadScene(\"Scene/Scene_1\");\r\n            }, 0.5);\r\n        }\r\n    },\r\n\r\n    ContinueTheGame() {\r\n        //音效\r\n        //cc.find('Canvas/BGM/click3bgm').getComponent(cc.AudioSource).play();\r\n        if (JSON.parse(cc.sys.localStorage.getItem('Save_List'))) {\r\n            this.scheduleOnce(function () {\r\n                let Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n                cc.find('The_Data').getComponent('The_Data').Load_Save(Save_List.length - 1);\r\n            }, 0.5);\r\n        };\r\n    },\r\n\r\n    ReadArchive() {\r\n        if (!this.Win_B_Off) {\r\n            this.Win_B_Off = true;\r\n            this.Win_S_Off = false;\r\n            if (JSON.parse(cc.sys.localStorage.getItem('Save_List'))) {\r\n                this.Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n                let New_Archive_news = this.Save_List;\r\n                this.Win.getChildByName('Archive_Win').getChildByName('scrollview').getChildByName('view').getChildByName('content').height = Math.ceil(New_Archive_news.length / 2) * 100;\r\n                this.Archive_Item = this.Win.getChildByName('Archive_Win').getChildByName('scrollview').getChildByName('view').getChildByName('content').getChildByName('Archive_Item');\r\n                for (let i = 0; i < this.Win.getChildByName('Archive_Win').getChildByName('scrollview').getChildByName('view').getChildByName('content').children.length; i++) {\r\n                    if (i > 0) {\r\n                        this.Win.getChildByName('Archive_Win').getChildByName('scrollview').getChildByName('view').getChildByName('content').children[i].destroy();\r\n                    }\r\n                };\r\n                for (let i = 0; i < New_Archive_news.length; i++) {\r\n                    let node = cc.instantiate(this.Win.getChildByName('Archive_Win').getChildByName('scrollview').getChildByName('view').getChildByName('content').getChildByName('Archive_Item'));\r\n                    node.parent = this.Win.getChildByName('Archive_Win').getChildByName('scrollview').getChildByName('view').getChildByName('content');\r\n                    let Archive_Name = New_Archive_news[i].Time;\r\n                    node.getChildByName('String').getComponent(cc.Label).string = Archive_Name;\r\n                    node.opacity = 255;\r\n                    if (i % 2 == 0) {\r\n                        let theY = Math.floor(i / 2);\r\n                        node.setPosition(-110, -40 + (-theY * 100));\r\n                    } else {\r\n                        let theY = Math.floor((i - 1) / 2);\r\n                        node.setPosition(110, -40 + (-theY * 100));\r\n                    }\r\n                };\r\n                this.Win_B_Off = false;\r\n                this.Win_S_Off = false;\r\n                this.Win.setPosition(cc.v2(0, 0));\r\n            };\r\n        }\r\n    },\r\n    Close_Win() {\r\n        if (!this.Win_B_Off) {\r\n            this.Win_B_Off = false;\r\n            this.Win_S_Off = false;\r\n            this.Win.setPosition(this.Win_Initial_Position);\r\n        }\r\n    },\r\n    Open_Win_S(event, customEventData) {\r\n        var node = event.target;\r\n        if (!this.Win_B_Off) {\r\n            for (let i = 0; i < node.parent.children.length; i++) {\r\n                node.parent.children[i].getChildByName('Archive_Frame').opacity = 150;\r\n            };\r\n            node.getChildByName('Archive_Frame').opacity = 255;\r\n            this.Win_B_Off = true;\r\n            this.Win_S_Off = false;\r\n            this.Win_S.setPosition(cc.v2(0, 0));\r\n            this.Win_S_Arr = [node.getChildByName('String').getComponent(cc.Label).string, node];\r\n            this.Win_S.getChildByName('Tips_News').getComponent(cc.Label).string = '存档使用'; \r\n            this.Win_S.getChildByName('True').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '加载存档';\r\n            this.Win_S.getChildByName('False').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = '删除存档';\r\n        }\r\n    },\r\n    True_Win_S() {\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n        if (this.Win_S_Arr[1].name == 'Archive_Item') {\r\n            //cc.log('Value:' + this.Win_S_Arr[0] + 'Node:' + this.Win_S_Arr[1]);\r\n            let Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n            let The_Value = 0;\r\n            for (let i = 0; i < Save_List.length; i++) {\r\n                if (Save_List[i].Time == this.Win_S_Arr[0]) {\r\n                    The_Value = i;\r\n                }\r\n            };\r\n            //音效\r\n            //cc.find('Canvas/BGM/click3bgm').getComponent(cc.AudioSource).play();\r\n            this.scheduleOnce(function () {\r\n                cc.find('The_Data').getComponent('The_Data').Load_Save(The_Value);\r\n            }, 0.5);\r\n        };\r\n    },\r\n    Cancel_Win_S() {\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n        if (this.Win_S_Arr[1].name == 'Archive_Item') {\r\n            let Save_List = JSON.parse(cc.sys.localStorage.getItem('Save_List'));\r\n            let The_Value = 0;\r\n            for (let i = 0; i < Save_List.length; i++) {\r\n                if (Save_List[i].Time == this.Win_S_Arr[0]) {\r\n                    The_Value = i;\r\n                }\r\n            };\r\n            cc.find('The_Data').getComponent('The_Data').Delete_Save(The_Value);\r\n            this.ReadArchive();\r\n        };\r\n    },\r\n    Close_Win_S() {\r\n        this.Win_B_Off = false;\r\n        this.Win_S_Off = false;\r\n        this.Win_S.setPosition(this.Win_Initial_Position);\r\n    },\r\n    ExitGame(){\r\n        //音效\r\n        //cc.find('Canvas/BGM/click3bgm').getComponent(cc.AudioSource).play();\r\n        //cc.game.end();\r\n        //\r\n        cc.sys.localStorage.clear();\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}